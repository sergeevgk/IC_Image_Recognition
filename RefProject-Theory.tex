\section{Теория}

Изображения с тепловизора  сохранены в формате BMP. Снимок представляет собой матрицу пикселей, каждый из которых характеризуется цветом (3 числа в диапазоне $[0..255]$ формата RGB). Цветовая шкала тепловизора покрывает этот диапазон, причем пиксели с наибольшей интенсивностью излучения (наибольшая температура) соответствуют красной и белой части диапазона, а самые $"$холодные$"$ -- синей и черной части.
\newline
Для выделения каких-либо областей изображения необходимо найти и обозначить их контуры. Для этого применяются методы, основанные на сравнении градиентов точек изображения.
\newline 
В работе применяются 3 метода выделения границ, в которых применяются соответственно 3 оператора:
\begin{enumerate}
	\item Оператор Собеля [1]
	\newline
	Применяется в реализации функции cv2.Sobel(src, dst, xorder, yorder, apertureSize=3). Данный оператор вычисляет свертку матрицы изображения с ядрами $G_x$ и $G_y$, а затем вычисляет приближенное значение градиента как $G = \sqrt{G^{2}_x + G^{2}_y}$. Размеры ядер (размер ядра, или 'kernel size', соответствует параметру apertureSize) по умолчанию равны 3.
	\newline Например, для случая с размером ядра 3, матрица $G_x$ выглядит следующим образом: 
	\newline
\begin{center}
		$B = 
	\begin{bmatrix}
		-1 & 0 & +1 \\
		-2 & 0 & +2 \\
		-1 & 0 & +1
	\end{bmatrix} * I$
\end{center}
	\item Оператор Лапласа [2]
	\newline
	Применяется в реализации функции cv2.Laplacian(src, ddepth, ...) библиотеки OpenCV. Математическая формула оператора: $Laplace(f) = \frac{\delta^{2}f}{\delta x^{2}} + \frac{\delta^{2}f}{\delta y^{2}}$.
	\newline
	Поскольку для вычисления оператора Лапласа необходим градиент изображения, реализация OpenCV использует оператор Sobel при вычислении Laplacian. ddepth -- параметр, отвечающий за размерность матрицы-результата оператора.

	\item Оператор Кэнни (Canny) [3]	
	\newline
	Оператор Кэнни также известен как $"$оптимальный детектор$"$, потому что удовлетворяет трем главным критериям: малая величина ошибок, хорошая локализация границ, единственный ответ детектора на каждую границу (каждая граница на изображении соответствует не более чем одной результирующей границе).  
	\newline 
	Для корректной работы оператора необходимо сделать гауссово размытие (применить гауссов фильтр). В данной работе применялась функция blur библиотеки OpenCV для сглаживания шумов изображения.
	\newline
	В методе Canny также используется вычисление градиентов аналогично оператору Sobel, однако после нахождения всех длин векторов градиента на изображении применяется подавление не-максимумов, чтобы отсеять пиксели, не относящиеся ни к какой из найденных границ.
	\newline
	В конце работы метода применяется фильтрация результатов с помощью двух порогов: верхнего и нижнего. OpenCV реализация оператора Canny для Python принимает в качестве аргуменов (помимо прочего) значение нижнего порога (low\_threshold) и отношение high\_threshold к low\_threshold (ratio). Пиксели, интенсивность которых находится между пороговыми уровнями, принимаются в качестве границы только если рядом с ними есть пиксель, уже являющийся границей.
	\newline 
\end{enumerate}


